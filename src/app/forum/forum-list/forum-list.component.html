<main class="container">
  <div>
    <h1 class="text-center">Welcome to Kalitair's Forum</h1>
    <h2 class='text-center'>{{forumUrl}}</h2>
  </div>
  <div>
    <p>
      <span *ngIf="forumUrl != 'section'"><a [routerLink]="['/forum']">Sections</a></span>
      <span *ngIf="forumUrl === 'message'"> > <a [routerLink]="['/forum/section', sectionId]">Fil</a></span>
    </p>
    <h3 *ngIf="user.role === 'ADMIN' || (typeOfItem != 'Section' && user.role === 'USER' && !user.banned)">
      <button (click)="create()" class="btn btn-primary btn-block" type="button">
        Create a new {{typeOfItem}}
      </button>
    </h3>
  </div>
  <section class="p-2 p-sm-3">
    <div class="card mb-2" *ngFor='let item of forumObject.items'>
      <div [ngClass]="{'pointer': item.title}" class="card-body p-2 p-sm-3" (click)='get(item.id)'>
        <div class="media">
          <a><img
              src="https://img2.freepng.fr/20180401/gcq/kisspng-royalty-free-clip-art-sun-vector-5ac0e38e43bc15.7460223415225906062775.jpg"
              class="mr-3 rounded-circle" width="50" alt="category" /></a>
          <div class="media-body">
            <h4 *ngIf="item.title">{{item.title}}</h4>
            <h4 *ngIf="item.content" class="h6">{{item.content}}</h4>
            <h5 *ngIf="item.userPseudo"><i class="fa fa-user"></i> {{item.userPseudo}}</h5>
            <p *ngIf="item.date" class="mb-0"><i class="fa fa-calendar"></i> {{item.date | date :'medium'}}</p>
          </div>
        </div>
      </div>
      <div class="card-footer p-2 p-sm-3 d-flex justify-content-end">
        <button *ngIf="user.role === 'ADMIN' || user.id === item.userId && !user.banned" class="btn btn-success"
          (click)="edit(item)"><i class="fa fa-edit"></i></button>
        <button *ngIf="user.role === 'ADMIN' || user.id === item.userId && !user.banned" class="btn btn-danger ml-2"
          (click)="_delete(item)"><i class="fa fa-trash"></i></button>
      </div>
    </div>
  </section>
  <div class="container">
    <nav aria-label="Page navigation example">
      <ul class="pagination justify-content-center">
        <li class="page-item" *ngFor="let page of forumObject.pages"
          [ngClass]="{'active': forumObject.pagination.currentPage === page, 'pointer': forumObject.pagination.currentPage !== page}">
          <a class="page-link" (click)="paginate(page)">{{page}}</a>
        </li>
      </ul>
    </nav>
  </div>
</main>